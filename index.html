<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Simulateur Akiba</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

<style>
body {
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 0;
}

.container {
    background: #fff;
    width: 420px;
    padding: 25px;
    border-radius: 16px;
    box-shadow: 0 20px 40px rgba(0,0,0,0.25);
}

h1 {
    text-align: center;
    color: #2c5364;
    margin-bottom: 5px;
}

.subtitle {
    text-align: center;
    font-size: 13px;
    color: #666;
    margin-bottom: 20px;
}

label {
    font-size: 13px;
    margin-top: 12px;
    display: block;
    color: #333;
}

select, input {
    width: 100%;
    padding: 11px;
    margin-top: 5px;
    border-radius: 8px;
    border: 1px solid #ddd;
    font-size: 14px;
}

input:disabled {
    background: #f1f3f5;
    font-weight: 600;
    color: #2c5364;
}

.badge {
    background: #e7f6ef;
    color: #1ebe5d;
    padding: 5px 12px;
    border-radius: 20px;
    font-size: 11px;
    display: inline-block;
    margin-bottom: 10px;
}

button {
    width: 100%;
    margin-top: 20px;
    padding: 14px;
    background: linear-gradient(135deg, #25D366, #1ebe5d);
    color: white;
    border: none;
    border-radius: 12px;
    font-size: 15px;
    font-weight: 600;
    cursor: pointer;
}
</style>
</head>

<body>

<div class="container">
    <h1>ðŸ’¸ Akiba Transfer</h1>
    <div class="subtitle">Simulation sÃ©curisÃ©e & transparente</div>

    <div class="badge">Paiement : Airtel Money</div>

    <label>Corridor de transfert</label>
    <select id="transaction">
        <option value="gabon-senegal">ðŸ‡¬ðŸ‡¦ Gabon â†’ ðŸ‡¸ðŸ‡³ SÃ©nÃ©gal</option>
        <option value="gabon-uemoa">ðŸ‡¬ðŸ‡¦ Gabon â†’ Autres pays UEMOA</option>
        <option value="senegal-gabon">ðŸ‡¸ðŸ‡³ SÃ©nÃ©gal â†’ ðŸ‡¬ðŸ‡¦ Gabon</option>
    </select>

    <label>Montant Ã  transfÃ©rer (FCFA)</label>
    <input type="number" id="amount" placeholder="Min 5 000 â€“ Max 500 000">

    <label>Frais de service</label>
    <input type="text" id="fees" disabled>

    <label>Montant reÃ§u par le bÃ©nÃ©ficiaire</label>
    <input type="text" id="recipientAmount" disabled>

    <label>Nom du bÃ©nÃ©ficiaire</label>
    <input type="text" id="recipientName" placeholder="Nom complet">

    <label>TÃ©lÃ©phone du bÃ©nÃ©ficiaire</label>
    <input type="text" id="recipientPhone" placeholder="+221 / +241">

    <button id="whatsapp">ðŸ’¬ Continuer sur WhatsApp</button>
</div>

<script>
const amountInput = document.getElementById('amount');
const feesInput = document.getElementById('fees');
const recipientAmountInput = document.getElementById('recipientAmount');
const transactionSelect = document.getElementById('transaction');

const recipientNameInput = document.getElementById('recipientName');
const recipientPhoneInput = document.getElementById('recipientPhone');
const whatsappButton = document.getElementById('whatsapp');

const currency = 'FCFA';

const feeRates = {
    'gabon-senegal': 0.12,
    'gabon-uemoa': 0.13,
    'senegal-gabon': 0.06
};

function calculate() {
    let amount = parseFloat(amountInput.value) || 0;
    amount = Math.min(Math.max(amount, 5000), 500000);

    const rate = feeRates[transactionSelect.value];
    const fee = Math.round(amount * rate);

    feesInput.value = `${fee.toLocaleString()} ${currency} (${rate * 100}% frais)`;
    recipientAmountInput.value = `${amount.toLocaleString()} ${currency}`;
}

amountInput.addEventListener('input', calculate);
transactionSelect.addEventListener('change', calculate);

whatsappButton.addEventListener('click', () => {
    const amount = parseFloat(amountInput.value);
    const recipient = recipientNameInput.value.trim();
    const phone = recipientPhoneInput.value.trim();

    if (!amount || !recipient || !phone) {
        alert("Veuillez complÃ©ter tous les champs.");
        return;
    }

    const rate = feeRates[transactionSelect.value];
    const fee = Math.round;
    const total = amount + fee;

    const label = transactionSelect.options[transactionSelect.selectedIndex].text;

    const message =
`Bonjour Akiba ðŸ‘‹

Je souhaite effectuer un transfert via votre service.

Corridor : ${label}

Montant total envoyÃ© : ${total.toLocaleString()} FCFA
(dont ${amount.toLocaleString()} FCFA transfÃ©rÃ©s + ${fee.toLocaleString()} FCFA de frais)

Mode de paiement : Airtel Money

BÃ©nÃ©ficiaire :
Nom : ${recipient}
TÃ©lÃ©phone : ${phone}

Merci.`;

    window.open(`https://wa.me/221778731176?text=${encodeURIComponent(message)}`, '_blank');
});

calculate();
</script>

</body>
</html>

